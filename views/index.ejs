<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js" integrity="sha512-u9akINsQsAkG9xjc1cnGF4zw5TFDwkxuc9vUp5dltDWYCSmyd0meygbvgXrlc/z7/o4a19Fb5V0OUE58J7dcyw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
    <title>Code Editor</title>

    <script>

        var host = 'localhost'
        var port = '4000'

        const getId = async () => {
            const resp = await axios.post(`http://${host}:${port}`)
            console.log(resp.data)
            let id = resp.data.id
            let url = `http://${host}:${port}/${id}`
            location.href = url
        }

        const joinGroup = () => {
            const uuid = document.getElementById('uuid').value
            if(uuid.length == 0) alert('ID Cannot be Empty!')
            let url = `http://${host}:${port}/${uuid}`
            location.href = url
        }

    </script>

</head>

<body style="background-color: black;">
    <div class="center container">
        <br><br><br><br><br><br>
        <button style="width: 200px; height: 45px; border-radius: 5px; font-size: 17px; font-family: Roboto;" onclick="getId()" class="btn red">Create</button> <br><br><br><br>
        <form action="" autocomplete="off">
            <input id="uuid" style="color: white; width: 330px; font-size: 15px; font-family: 'Roboto Mono';" type="text" placeholder="Enter ID"> <br><br>
            <button style="width: 200px; height: 45px; border-radius: 5px; font-size: 17px; font-family: Roboto;" onclick="joinGroup(); return false" class="btn green">Join</button>    
        </form>
    </div>
</body>
</html>